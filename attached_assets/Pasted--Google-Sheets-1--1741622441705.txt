(ТЗ) для веб-приложения: "Управление договорами с интеграцией Google Sheets"
1. Общее описание
Веб-приложение предназначено для управления договорами с возможностью хранения данных в Google Sheets. Приложение предоставляет удобный интерфейс для просмотра, добавления, редактирования и фильтрации договоров. Основные пользователи: администраторы и юристы.

2. Технологии
Backend:

FastAPI (Python):

Для создания API.

Интеграция с Google Sheets API.

Интеграция с API DADATA для автозаполнения данных.

База данных:

Google Sheets (основное хранилище).

Firebase (для хранения пользователей, если не используется Google Sheets).

Frontend:

React (Next.js):

Для создания пользовательского интерфейса.

Поддержка SSR (Server-Side Rendering) для улучшения SEO и производительности.

Адаптивный дизайн (поддержка мобильных устройств).

3. Функциональные требования
3.1. Пользователи и роли
Администратор:

Управление пользователями:

Создание, удаление пользователей.

Назначение ролей (администратор, юрист).

Полный доступ к данным:

Просмотр, добавление, редактирование и удаление договоров.

Возможность удалять договоры.

Юрист:

Просмотр и редактирование договоров.

Невозможность удалять договоры.

3.2. Управление договорами
Просмотр списка договоров:

Таблица с договорами.

Возможность поиска, сортировки и фильтрации:

По дате.

По статусу.

По ИНН.

По ответственному юристу.

Добавление договора:

Обязательные поля:

ИНН (только цифры).

Название организации.

Директор.

Адрес.

Дата окончания (формат DD.MM.YYYY).

Дополнительные поля:

Юрист (автоматически подставляется текущий пользователь, если он юрист; администратор может выбрать из списка).

Кнопка "Сохранить".

Редактирование договора:

Форма с предзаполненными данными.

Кнопка "Сохранить изменения".

Логирование изменений:

История изменений:

Кто внёс изменения (пользователь).

Какие данные были изменены.

Дата и время изменения.

3.3. Аутентификация
Авторизация через логин/пароль:

Пользователи хранятся в базе данных (Google Sheets или Firebase).

Возможность смены пароля.

Роли пользователей:

Администратор.

Юрист.

3.4. Интеграция с Google Sheets
Хранение данных:

Все данные о договорах и пользователях хранятся в Google Sheets.

Каждый договор — строка в таблице.

Каждый пользователь — строка в отдельной таблице.

Синхронизация:

Бесшовная синхронизация данных без перезагрузки страницы.

Изменения в приложении сразу отражаются в Google Sheets и наоборот.

3.5. Интеграция с API DADATA
Автозаполнение данных:

Пользователь вводит ИНН в поле "ИНН".

Нажимает кнопку "Автозаполнение".

Данные автоматически подставляются:

Название организации.

Директор.

Адрес.

4. Интерфейс
4.1. Основной экран (Таблица договоров)
Статистика договоров:

Всего договоров (количество).

Истекают в течение 30 дней (количество).

Истекшие договора (количество).

Строка поиска:

Поиск по любым совпадениям (включая ИНН, название организации, директора, адрес и т.д.).

Таблица с договорами:

Столбцы:

Название (буквы и цифры).

Директор (буквы и цифры).

Адрес (буквы и цифры).

ИНН (только цифры).

Дата (формат DD.MM.YYYY).

Статус (автоматически рассчитывается на основе текущей даты и даты окончания):

Если договор истёк:

Ячейка окрашивается в красный цвет.

Текст: "Истек X дней назад".

Если договор истекает в течение 30 дней:

Ячейка окрашивается в жёлтый цвет.

Текст: "Истекает в течение X дней".

Если договор истекает более чем через 30 дней:

Ячейка окрашивается в зелёный цвет.

Текст: "Истекает через X дней".

НД (ячейка с возможностью закрасить в бесцветный или красный цвет, по умолчанию — бесцветный).

Комментарий (буквы и цифры).

Юрист (автоматически заполняется данными о пользователе, внесшем договор).

Кнопки:

"Добавить договор" (в виде раскрывающегося поля).

"Редактировать" (рядом с каждым договором).

Фильтрация и сортировка:

По дате.

По статусу.

По ИНН.

По ответственному юристу.

4.2. Форма добавления/редактирования договора
Поля:

ИНН (только цифры, обязательное поле).

Название организации (обязательное поле).

Директор (обязательное поле).

Адрес (обязательное поле).

Дата окончания (формат DD.MM.YYYY, обязательное поле).

Юрист (автоматически подставляется текущий пользователь, если он юрист; администратор может выбрать из списка).

Кнопки:

"Автозаполнение" (для заполнения данных через API DADATA).

"Сохранить" (для добавления нового договора).

"Сохранить изменения" (для редактирования существующего договора).

5. Технические требования
5.1. Backend (FastAPI)
API для работы с договорами:

Получение списка договоров.

Добавление нового договора.

Редактирование существующего договора.

Удаление договора (только для администратора).

Интеграция с Google Sheets API:

Чтение и запись данных в Google Sheets.

Интеграция с API DADATA:

Автозаполнение данных по ИНН.

Аутентификация:

Реализация авторизации через JWT (JSON Web Token).